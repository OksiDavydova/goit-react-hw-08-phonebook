(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[6],{10:function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return j}));var r=n(15),a=n.n(r),c=n(18),o=n(1),i="https://connections-api.herokuapp.com",s=Object(o.c)("users/register",function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.prev=1,e.next=4,fetch(i+"/users/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 4:return c=e.sent,e.next=7,c.json();case 7:return o=e.sent,console.log("response",o),e.abrupt("return",o);case 12:e.prev=12,e.t0=e.catch(1),r({error:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,n){return e.apply(this,arguments)}}()),u=Object(o.c)("users/login",function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.prev=1,e.next=4,fetch(i+"/users/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 4:return c=e.sent,e.next=7,c.json();case 7:return o=e.sent,console.log("response",o),e.abrupt("return",o);case 12:e.prev=12,e.t0=e.catch(1),r({error:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,n){return e.apply(this,arguments)}}()),l=Object(o.c)("users/current",function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c,o,s,u,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.rejectWithValue,c=n.getState,o=c(),s=o.auth.token){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,e.next=8,fetch(i+"/users/current",{headers:{Authorization:"Bearer ".concat(s)}});case 8:return u=e.sent,e.next=11,u.json();case 11:return l=e.sent,console.log("response",l),e.abrupt("return",l);case 16:e.prev=16,e.t0=e.catch(5),console.log(e.t0.message),r(e.t0.message);case 20:case"end":return e.stop()}}),e,null,[[5,16]])})));return function(t,n){return e.apply(this,arguments)}}()),j=Object(o.c)("users/logout",function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c,o,s,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.rejectWithValue,c=n.getState,o=c(),s=o.auth.token){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,e.next=8,fetch(i+"/users/logout",{method:"POST",headers:{Authorization:"Bearer ".concat(s)}});case 8:u=e.sent,console.log("response",u),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),console.log(e.t0.message),r(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,n){return e.apply(this,arguments)}}())},21:function(e,t,n){e.exports={nav:"Navigation_nav__1hxed",navItem:"Navigation_navItem__2ga5d",navLinkLogo:"Navigation_navLinkLogo__f0hju",activeNavLinkLogo:"Navigation_activeNavLinkLogo__1fWBS",logo:"Navigation_logo__b_ark",logoPartYel:"Navigation_logoPartYel__3Cd4i",logoPartBlack:"Navigation_logoPartBlack__1KitO"}},22:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s}));var r=n(30),a=n(9),c=Object(r.a)({reducerPath:"ContactsApi",baseQuery:Object(a.d)({baseUrl:"https://connections-api.herokuapp.com"}),tagTypes:["Contacts"],endpoints:function(e){return{getItems:e.query({query:function(){return"/contacts"},providesTags:["Contacts"]}),createItem:e.mutation({query:function(e){return{url:"/contacts",method:"POST",body:{name:e.name,number:e.number}}},invalidatesTags:["Contacts"]}),deleteItem:e.mutation({query:function(e){return{url:"/contacts/".concat(e),method:"DELETE"}},invalidatesTags:["Contacts"]})}}}),o=c.useGetItemsQuery,i=c.useCreateItemMutation,s=c.useDeleteItemMutation},27:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1),a=Object(r.b)("FILTER_CHANGE/contact")},29:function(e,t,n){e.exports={appBar:"AppBar_appBar__3d4Vx"}},38:function(e,t,n){},39:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(19),o=n.n(c),i=(n(38),n(39),n(3)),s=Object(r.lazy)((function(){return n.e(2).then(n.bind(null,81))})),u=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(9),n.e(1)]).then(n.bind(null,85))})),l=[{id:101,name:"Home page",path:"/",component:s},{id:102,name:"Register page",path:"/register",component:Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,82))}))},{id:103,name:"Contacts page",path:"contacts",component:u},{id:105,name:"Login page",path:"login",component:Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(3)]).then(n.bind(null,83))}))},{id:104,name:"Not found page",path:"*",component:Object(r.lazy)((function(){return n.e(4).then(n.bind(null,84))}))}],j=n(13),b=n(2),d={display:"flex",alignItems:"center",fontWeight:"500"},p={margin:"15px"},h=function(){return Object(b.jsxs)("div",{style:d,children:[Object(b.jsx)(j.b,{to:"/register",style:function(e){return{color:e.isActive?"yellow":"white"}},children:Object(b.jsx)("span",{style:p,children:"Registration"})}),Object(b.jsx)(j.b,{to:"/login",style:function(e){return{color:e.isActive?"yellow":"white"}},children:Object(b.jsx)("span",{style:p,children:"Log in"})})]})},O=n(21),f=n.n(O),g=function(){return Object(b.jsxs)("nav",{className:f.a.nav,children:[Object(b.jsx)(j.b,{to:"/",style:function(e){return{color:e.isActive?"yellow":"white"}},end:!0,children:Object(b.jsx)("span",{className:f.a.navItem,children:" Home"})}),Object(b.jsx)(j.b,{to:"contacts",style:function(e){return{color:e.isActive?"yellow":"white"}},children:Object(b.jsx)("span",{className:f.a.navItem,children:" Contacts"})})]})},m=n.p+"static/media/default-avatar.e44fc4e2.png",v=n(10),y=n(6),x={container:{display:"flex",alignItems:"center"},avatar:{marginRight:4},name:{fontWeight:700,marginRight:12}},k=m;var L=function(){var e=Object(y.d)();return Object(b.jsxs)("div",{style:x.container,children:[Object(b.jsx)("img",{src:k,alt:"",width:"32",style:x.avatar}),Object(b.jsx)("span",{style:x.name,children:"Welcome"}),Object(b.jsx)("button",{type:"button",onClick:function(){e(Object(v.c)())},children:"Logout"})]})},_={display:"flex",alignItems:"center",backgroundColor:"black",padding:"15px",fontWeight:"600"},w={color:"black",backgroundColor:"yellow"},N={color:"yellow",backgroundColor:"black",fontWeight:"300"};function C(){return Object(b.jsxs)(j.b,{to:"/",style:_,children:[Object(b.jsx)("span",{style:w,children:"DN"}),Object(b.jsx)("span",{style:N,children:"Oksi"})]})}var P=n(29),A=n.n(P);var I=function(){return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("header",{className:A.a.appBar,children:[Object(b.jsx)(C,{}),Object(b.jsx)(g,{}),Object(b.jsx)(h,{}),Object(b.jsx)(L,{})]})})};var T,S=function(){var e=Object(y.d)();return Object(r.useEffect)((function(){e(Object(v.a)())}),[e]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(I,{}),Object(b.jsx)(r.Suspense,{fallback:Object(b.jsx)("h1",{children:"Loading...."}),children:Object(b.jsx)(i.c,{children:l.map((function(e){var t=e.path,n=e.id,r=e.component;return Object(b.jsx)(i.a,{path:t,element:Object(b.jsx)(r,{})},n)}))})})]})},B=n(8),W=n(1),z=n(9),E=n(27),R=n(7),V=Object(W.d)("",Object(B.a)({},E.a,(function(e,t){return t.payload}))),q=Object(R.b)({filter:V}),H=n(16),J=n(22),D=n(31),F=n.n(D),M=n(5),G=Object(W.e)({name:"auth",initialState:{user:{name:"",email:""},token:"",error:null,isLoading:!1,isAuth:!1,myProp:"Hello"},reducers:{renameProp:function(e,t){return Object(M.a)(Object(M.a)({},e),{},{myProp:t.payload})}},extraReducers:(T={},Object(B.a)(T,v.d.pending,(function(e,t){return Object(M.a)(Object(M.a)({},e),{},{isLoading:!0})})),Object(B.a)(T,v.d.fulfilled,(function(e,t){return Object(M.a)(Object(M.a)({},e),{},{isLoading:!1,user:t.payload.user,token:t.payload.token,isAuth:!0})})),Object(B.a)(T,v.d.rejected,(function(e,t){return Object(M.a)(Object(M.a)({},e),{},{isLoading:!1,error:t.payload})})),Object(B.a)(T,v.b.pending,(function(e,t){return Object(M.a)(Object(M.a)({},e),{},{isLoading:!0})})),Object(B.a)(T,v.b.fulfilled,(function(e,t){return Object(M.a)(Object(M.a)({},e),{},{isLoading:!1,user:t.payload.user,token:t.payload.token,isAuth:!0})})),Object(B.a)(T,v.b.rejected,(function(e,t){return Object(M.a)(Object(M.a)({},e),{},{isLoading:!1,error:t.payload})})),Object(B.a)(T,v.a.pending,(function(e,t){return Object(M.a)(Object(M.a)({},e),{},{isLoading:!0})})),Object(B.a)(T,v.a.fulfilled,(function(e,t){return Object(M.a)(Object(M.a)({},e),{},{isLoading:!1,user:t.payload,isAuth:!0})})),Object(B.a)(T,v.a.rejected,(function(e,t){return Object(M.a)(Object(M.a)({},e),{},{isLoading:!1,error:t.payload,isAuth:!1})})),Object(B.a)(T,v.c.pending,(function(e,t){return Object(M.a)(Object(M.a)({},e),{},{isLoading:!0})})),Object(B.a)(T,v.c.fulfilled,(function(e,t){return Object(M.a)(Object(M.a)({},e),{},{isLoading:!1,user:{name:"",email:""},token:"",isAuth:!1})})),Object(B.a)(T,v.c.rejected,(function(e,t){return Object(M.a)(Object(M.a)({},e),{},{isLoading:!1,error:t.payload})})),T)}),Q=(G.actions.renameProp,G.reducer),Y={key:"auth",storage:F.a,whitelist:["token"]},K=Object(W.a)({reducer:Object(B.a)({auth:Object(H.g)(Y,Q),contacts:q},J.a.reducerPath,J.a.reducer),middleware:function(e){return e({serializableCheck:{ignoredActions:[H.a,H.f,H.b,H.c,H.d,H.e]}})},devTools:!1}),U=Object(H.h)(K);Object(z.e)(K.dispatch);var X=n(32);o.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(y.a,{store:K,children:Object(b.jsx)(X.a,{loading:null,persistor:U,children:Object(b.jsx)(j.a,{children:Object(b.jsx)(S,{})})})})}),document.getElementById("root"))}},[[50,7,8]]]);
//# sourceMappingURL=main.0014d4b4.chunk.js.map