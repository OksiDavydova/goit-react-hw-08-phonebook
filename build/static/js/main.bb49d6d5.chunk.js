(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[7],{16:function(n,e,t){"use strict";t.d(e,"d",(function(){return l})),t.d(e,"b",(function(){return b})),t.d(e,"a",(function(){return d})),t.d(e,"c",(function(){return p}));var r=t(21),o=t.n(r),a=t(30),c=t(23),i=t.n(c),s=t(1);i.a.defaults.baseURL="https://connections-api.herokuapp.com";var u=function(n){i.a.defaults.headers.common.Authorization="Bearer ".concat(n)},l=Object(s.c)("auth/register",function(){var n=Object(a.a)(o.a.mark((function n(e,t){var r,a,c;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.rejectWithValue,n.prev=1,n.next=4,i.a.post("/users/signup",e);case 4:return a=n.sent,c=a.data,console.log("responce",c),u(c.token),n.abrupt("return",c);case 11:n.prev=11,n.t0=n.catch(1),r({error:n.t0.massage}),console.log("registerThunk",n.t0);case 15:case"end":return n.stop()}}),n,null,[[1,11]])})));return function(e,t){return n.apply(this,arguments)}}()),b=Object(s.c)("auth/login",function(){var n=Object(a.a)(o.a.mark((function n(e,t){var r,a,c;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.rejectWithValue,n.prev=1,n.next=4,i.a.post("/users/login",e);case 4:return a=n.sent,c=a.data,u(c.token),n.abrupt("return",c);case 10:n.prev=10,n.t0=n.catch(1),r({error:n.t0.message});case 13:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e,t){return n.apply(this,arguments)}}()),d=Object(s.c)("auth/current",function(){var n=Object(a.a)(o.a.mark((function n(e,t){var r,a,c,s;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=t.getState(),a=r.auth.token){n.next=4;break}return n.abrupt("return",t.rejectWithValue());case 4:return u(a),n.prev=5,n.next=8,i.a.get("/users/current");case 8:return c=n.sent,s=c.data,n.abrupt("return",s);case 13:n.prev=13,n.t0=n.catch(5),console.log(n.t0.message);case 16:case"end":return n.stop()}}),n,null,[[5,13]])})));return function(e,t){return n.apply(this,arguments)}}()),p=Object(s.c)("auth/logout",function(){var n=Object(a.a)(o.a.mark((function n(e,t){var r,a,c,s;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=t.rejectWithValue,a=t.getState,c=a(),s=c.auth.token){n.next=5;break}return n.abrupt("return");case 5:return n.prev=5,n.next=8,i.a.post("/users/logout");case 8:s.unset(),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(5),console.log(n.t0.message),r(n.t0.message);case 15:case"end":return n.stop()}}),n,null,[[5,11]])})));return function(e,t){return n.apply(this,arguments)}}())},26:function(n,e,t){"use strict";t.d(e,"a",(function(){return r})),t.d(e,"b",(function(){return o}));var r=function(n){return n.auth.isAuth},o=function(n){return n.auth.user.name}},32:function(n,e,t){"use strict";t.d(e,"a",(function(){return a})),t.d(e,"d",(function(){return c})),t.d(e,"b",(function(){return i})),t.d(e,"c",(function(){return s}));var r=t(54),o=t(10),a=Object(r.a)({reducerPath:"ContactsApi",baseQuery:Object(o.d)({baseUrl:"https://connections-api.herokuapp.com",prepareHeaders:function(n,e){var t=(0,e.getState)().auth.token;return t&&n.set("authorization","Bearer ".concat(t)),n}}),tagTypes:["Contacts"],endpoints:function(n){return{getItems:n.query({query:function(){return"/contacts"},providesTags:["Contacts"]}),createItem:n.mutation({query:function(n){return{url:"/contacts",method:"POST",body:{name:n.name,number:n.number}}},invalidatesTags:["Contacts"]}),deleteItem:n.mutation({query:function(n){return{url:"/contacts/".concat(n),method:"DELETE"}},invalidatesTags:["Contacts"]})}}}),c=a.useGetItemsQuery,i=a.useCreateItemMutation,s=a.useDeleteItemMutation},52:function(n,e,t){"use strict";t.d(e,"a",(function(){return o}));var r=t(1),o=Object(r.b)("FILTER_CHANGE/contact")},58:function(n,e,t){"use strict";t.d(e,"l",(function(){return v})),t.d(e,"m",(function(){return w})),t.d(e,"n",(function(){return k})),t.d(e,"g",(function(){return z})),t.d(e,"h",(function(){return A})),t.d(e,"d",(function(){return P})),t.d(e,"a",(function(){return C})),t.d(e,"c",(function(){return E})),t.d(e,"k",(function(){return I})),t.d(e,"b",(function(){return L})),t.d(e,"j",(function(){return S})),t.d(e,"f",(function(){return T})),t.d(e,"i",(function(){return M})),t.d(e,"e",(function(){return R}));var r,o,a,c,i,s,u,l,b,d,p,x,f,h,g,j,m,O=t(4),y=t(6),v=y.a.section(r||(r=Object(O.a)(["\n  padding-top: 20px;\n  padding-bottom: 20px;\n"]))),w=(y.a.div(o||(o=Object(O.a)(["\n  max-width: 600px;\n  // width: 1170px;\n  margin-left: auto;\n  margin-right: auto;\n  margin-top: 50px;\n  // text-align: center;\n  border-radius: 15px 50px;\n  box-shadow: 0 4px 8px 0 rgba(52, 49, 49, 0.2),\n    0 6px 20px 0 rgba(216, 241, 48, 0.19);\n"]))),y.a.h1(a||(a=Object(O.a)(["\n  font-size: 35px;\n  font-weight: 700;\n  margin-bottom: 50px;\n  text-align: center;\n  text-transform: uppercase;\n"])))),k=(y.a.h2(c||(c=Object(O.a)(["\n  font-size: 54px;\n  font-weight: 700;\n  margin-bottom: 50px;\n"]))),y.a.div(i||(i=Object(O.a)(["\n  max-width: 400px;\n  display: flex;\n  flex-direction: column;\n  margin-left: auto;\n  margin-right: auto;\n  justify-content: center;\n  align-items: center;\n  background: #191815d1;\n  margin-top: 30px;\n  padding: 20px;\n  border-bottom-left-radius: 70px;\n  border-top-right-radius: 70px;\n  box-shadow: 5px 5px 5px 0px #000000, inset 4px 4px 15px 0px #000000,\n    5px 5px 15px 5px rgba(0, 0, 0, 0);\n"])))),z=y.a.label(s||(s=Object(O.a)(["\n  display: block;\n  font-size: 16px;\n  font-weight: 700;\n  color: #dde282;\n  margin-bottom: 20px;\n"]))),A=y.a.span(u||(u=Object(O.a)(["\n  font-size: 16px;\n  font-weight: 700;\n  color: red;\n"]))),P=y.a.input(l||(l=Object(O.a)(["\n  display: block;\n  min-width: 350px;\n  width: 100%;\n  height: 40px;\n  padding: 0 35px 0 35px;\n  margin-right: 15px;\n  background: #fff;\n  border-radius: 20px;\n  font-size: 18px;\n  font-weight: 700;\n  border: 1px solid #8f8fa1;\n  outline: none;\n  color: #8f8fa1;\n  line-height: 1.2;\n\n  &:focus {\n    box-shadow: 0px 0px 1px 1px #8f8fa1;\n  }\n"]))),C=y.a.button(b||(b=Object(O.a)(["\n  display: block;\n  height: 40px;\n  padding: 0 35px 0 35px;\n  border-radius: 20px;\n  font-size: 18px;\n  text-transform: uppercase;\n  font-weight: 700;\n  line-height: 1.2;\n  color: black;\n  background-color: yellow;\n  margin-left: auto;\n  margin-right: auto;\n  transition: all 250ms ease-in-out;\n\n  &:hover,\n  &:focus {\n    color: yellow;\n    background-color: black;\n    box-shadow: 0px 0px 1px 1px yellow;\n  }\n"]))),E=(y.a.span(d||(d=Object(O.a)(["\n  display: inline-block;\n  font-size: 18px;\n  margin: 0 10px;\n"]))),y.a.button(p||(p=Object(O.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: silver;\n  font-size: 14px;\n  text-transform: uppercase;\n  font-weight: 500;\n  padding: 20px;\n  transition: color 250ms ease-in-out;\n\n  &:hover,\n  &:focus {\n    color: red;\n  }\n"])))),I=y.a.p(x||(x=Object(O.a)(["\n  color: red;\n  text-transform: uppercase;\n  font-size: 20px;\n  font-weight: 700;\n  margin-top: 10px;\n  text-align: center;\n"]))),L=y.a.ul(f||(f=Object(O.a)(["\n  max-width: 400px;\n  margin-top: 10px;\n  margin-right: auto;\n  margin-left: auto;\n  background: #191815d1;\n  // padding: 20px;\n  // border-bottom-left-radius: 70px;\n  // border-top-right-radius: 70px;\n  box-shadow: 5px 5px 5px 0px #000000, inset 4px 4px 15px 0px #000000,\n    5px 5px 15px 5px rgba(0, 0, 0, 0);\n"]))),S=y.a.li(h||(h=Object(O.a)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  padding: 0 8px;\n  color: white;\n  justify-content: space-between;\n  border-bottom: 2px groove #907c4061;\n"]))),T=y.a.p(g||(g=Object(O.a)(["\n  margin-bottom: 0;\n"]))),M=y.a.a(j||(j=Object(O.a)(["\n  position: absolute;\n  left: 45%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  transition: color 250ms ease-out;\n\n  &:hover,\n  &:focus {\n    transform: scale(1.2);\n    color: red;\n  }\n"]))),R=y.a.button(m||(m=Object(O.a)(["\n  border: 2px solid black;\n  border-radius: 50%;\n  padding: 5px;\n  color: black;\n  background-color: yellow;\n  transition: all 250ms ease-in-out;\n\n  &:hover,\n  &:focus {\n    color: yellow;\n    background-color: black;\n    border-color: yellow;\n  }\n"])))},89:function(n,e,t){"use strict";t.r(e);var r,o,a,c,i,s,u,l,b,d,p,x,f,h=t(0),g=t.n(h),j=t(31),m=t.n(j),O=t(25),y=t(4),v=t.p+"static/media/4.38da2ec7.jpg",w=Object(O.b)(r||(r=Object(y.a)(['\n  html {\n    box-sizing: border-box;\n    scroll-behavior: smooth;\n  }\n  *,\n  *:before,\n  *:after {\n    box-sizing: border-box;\n  }\n\n  body {\n    margin: 0;\n    font-family: "Sarabun", sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    // background-color: #f2f2f2;\n    min-height: 100vh;\n    color: white;\n    background-image: url(',');\n    background-position: center center;\n    background-size: cover;\n    background-repeat: no-repeat;\n  }\n  code {\n    font-family: source-code-pro, Menlo, Monaco, Consolas, "Courier New",\n      monospace;\n  }\n\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6,\n  p {\n    margin-top: 0;\n  }\n\n  img {\n    display: block;\n    max-width: 100%;\n    height: auto;\n  }\n\n  a {\n    text-decoration: none;\n    cursor: pointer;\n  }\n\n  ul {\n    list-style: none;\n    padding: 0;\n    margin: 0;\n  }\n\n  button {\n    padding: 0;\n    border: none;\n    font: inherit;\n    color: inherit;\n    background-color: transparent;\n    cursor: pointer;\n  }\n'])),v),k=(t(58),t(3)),z={HomePage:Object(h.lazy)((function(){return Promise.all([t.e(0),t.e(1),t.e(3)]).then(t.bind(null,114))})),ContactsPage:Object(h.lazy)((function(){return Promise.all([t.e(0),t.e(1),t.e(10),t.e(2)]).then(t.bind(null,118))})),RegisterPage:Object(h.lazy)((function(){return Promise.all([t.e(0),t.e(6)]).then(t.bind(null,115))})),LoginPage:Object(h.lazy)((function(){return t.e(4).then(t.bind(null,116))})),NotFound:Object(h.lazy)((function(){return t.e(5).then(t.bind(null,117))}))},A=t(15),P=t(2),C={display:"flex",alignItems:"center",fontWeight:"500"},E={margin:"15px"},I=function(){return Object(P.jsx)("div",{style:C,children:Object(P.jsx)(A.b,{to:"/register",style:function(n){return{color:n.isActive?"yellow":"white"}},children:Object(P.jsx)("span",{style:E,children:"Registration"})})})},L=t(6),S=L.a.img(o||(o=Object(y.a)(["\n  width: 75px;\n  border-radius: 50%;\n  border-style: inset;\n  border-color: #b8b076;\n  border-width: 2px;\n  transition: border-color 250ms ease-in-out;\n\n  &:hover,\n  &:focus {\n    border-color: yellow;\n  }\n"]))),T=L.a.header(a||(a=Object(y.a)(["\n  position: sticky;\n  z-index: 100;\n  top: 0;\n  left: 0;\n\n  display: flex;\n  justify-content: space-between;\n  height: 70px;\n  color: #adfe2db;\n  background-color: #191815d1;\n  padding: 12px 20px;\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\n"]))),M=L.a.div(c||(c=Object(y.a)(["\n  display: flex;\n  align-items: center;\n"]))),R=L.a.img(i||(i=Object(y.a)(["\n  width: 32px;\n  margin-right: 4px;\n"]))),W=L.a.span(s||(s=Object(y.a)(["\n  font-weight: 700;\n  margin-right: 12px;\n"]))),H=L.a.span(u||(u=Object(y.a)(["\n  color: #7oab8f;\n"]))),F=L.a.button(l||(l=Object(y.a)(["\n  display: flex;\n  align-items: center;\n  background-color: yellow;\n  border-radius: 50%;\n  border: 2px solid yellow;\n  padding: 3px;\n  font-weight: 700;\n  transition: all 250ms ease-in-out;\n\n  &:hover,\n  &:focus {\n    background-color: black;\n    // border-color: white;\n    box-shadow: 0px 0px 1px 1px yellow;\n  }\n  & > svg {\n    color: black;\n    transition: all 250ms ease-in-out;\n  }\n  & > svg:hover,\n  & > svg:focus {\n    color: yellow;\n  }\n"]))),N=L.a.nav(b||(b=Object(y.a)(["\n  display: flex;\n  align-items: center;\n  font-weight: 700;\n"]))),q=L.a.span(d||(d=Object(y.a)(["\n  margin: 10px;\n  display: block;\n"]))),B=function(){return Object(P.jsxs)(N,{children:[Object(P.jsx)(A.b,{to:"/",style:function(n){return{color:n.isActive?"yellow":"white"}},end:!0,children:Object(P.jsx)(q,{children:" Home"})}),Object(P.jsx)(A.b,{to:"contacts",style:function(n){return{color:n.isActive?"yellow":"white"}},children:Object(P.jsx)(q,{children:" Contacts"})})]})},V=t.p+"static/media/abstract.d9acf8e0.png",D=t(16),G=t(7),J=t(26),Q=["title","titleId"];function U(){return U=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},U.apply(this,arguments)}function _(n,e){if(null==n)return{};var t,r,o=function(n,e){if(null==n)return{};var t,r,o={},a=Object.keys(n);for(r=0;r<a.length;r++)t=a[r],e.indexOf(t)>=0||(o[t]=n[t]);return o}(n,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)t=a[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(o[t]=n[t])}return o}function K(n,e){var t=n.title,r=n.titleId,o=_(n,Q);return h.createElement("svg",U({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-logout",width:24,height:24,viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",ref:e,"aria-labelledby":r},o),t?h.createElement("title",{id:r},t):null,p||(p=h.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"})),x||(x=h.createElement("path",{d:"M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2"})),f||(f=h.createElement("path",{d:"M7 12h14l-3 -3m0 6l3 -3"})))}var X=h.forwardRef(K);t.p;var Y=function(){var n=V,e=Object(G.e)(J.b),t=Object(G.d)();return Object(P.jsxs)(M,{children:[Object(P.jsx)(R,{src:n,alt:"avatar"}),Object(P.jsxs)(W,{children:["Welcome ",Object(P.jsx)(H,{children:e})]}),Object(P.jsx)(F,{type:"button",onClick:function(){t(Object(D.c)())},children:Object(P.jsx)(X,{})})]})},Z=t.p+"static/media/logo.fb291b2f.png";function $(){var n=Z;return Object(P.jsx)(A.b,{to:"/",children:Object(P.jsx)(S,{src:n})})}var nn=function(){var n=Object(G.e)(J.a);return Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)(T,{children:[Object(P.jsx)($,{}),Object(P.jsx)(B,{}),n?Object(P.jsx)(Y,{}):Object(P.jsx)(I,{})]})})},en=function(n){var e=n.isAuth,t=n.children;return e?t:Object(P.jsx)(k.a,{to:"/"})},tn=z.HomePage,rn=z.ContactsPage,on=z.RegisterPage,an=z.LoginPage,cn=z.NotFound;var sn,un=function(){var n=Object(G.e)(J.a);console.log("isAuth",n);var e=Object(G.d)();return Object(h.useEffect)((function(){e(Object(D.a)())}),[e]),Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(nn,{}),Object(P.jsx)(h.Suspense,{fallback:Object(P.jsx)("h1",{children:"Loading...."}),children:Object(P.jsxs)(k.d,{children:[Object(P.jsx)(k.b,{path:"/",element:Object(P.jsx)(tn,{})}),Object(P.jsx)(k.b,{path:"contacts",element:Object(P.jsx)(en,{isAuth:n,children:Object(P.jsx)(rn,{})})}),Object(P.jsx)(k.b,{path:"register",element:Object(P.jsx)(on,{})}),Object(P.jsx)(k.b,{path:"login",element:Object(P.jsx)(an,{})}),Object(P.jsx)(k.b,{path:"*",element:Object(P.jsx)(cn,{})})]})})]})},ln=t(14),bn=t(1),dn=t(10),pn=t(52),xn=t(9),fn=Object(bn.d)("",Object(ln.a)({},pn.a,(function(n,e){return e.payload}))),hn=Object(xn.b)({filter:fn}),gn=t(22),jn=t(32),mn=t(55),On=t.n(mn),yn=t(18),vn=Object(bn.e)({name:"auth",initialState:{user:{name:null,email:null},token:null,isAuth:!1,error:null,isLoading:!1},extraReducers:(sn={},Object(ln.a)(sn,D.d.pending,(function(n,e){n.isLoading=!0})),Object(ln.a)(sn,D.d.fulfilled,(function(n,e){return Object(yn.a)(Object(yn.a)({},n),{},{user:e.payload.user,token:e.payload.token,isLoading:!1,isAuth:!0})})),Object(ln.a)(sn,D.d.rejected,(function(n,e){return console.log("rejected",e),Object(yn.a)(Object(yn.a)({},n),{},{isAuth:!1,error:e.payload.error,isLoading:!1})})),Object(ln.a)(sn,D.b.fulfilled,(function(n,e){return Object(yn.a)(Object(yn.a)({},n),{},{user:e.payload.user,token:e.payload.token,isAuth:!0})})),Object(ln.a)(sn,D.c.fulfilled,(function(n,e){return Object(yn.a)(Object(yn.a)({},n),{},{user:{name:null,email:null},token:null,isAuth:!1})})),Object(ln.a)(sn,D.a.fulfilled,(function(n,e){return Object(yn.a)(Object(yn.a)({},n),{},{user:e.payload,isAuth:!0})})),sn)}).reducer,wn={key:"auth",storage:On.a,whitelist:["token"]},kn=Object(bn.a)({reducer:Object(ln.a)({auth:Object(gn.g)(wn,vn),contacts:hn},jn.a.reducerPath,jn.a.reducer),middleware:function(n){return n({serializableCheck:{ignoredActions:[gn.a,gn.f,gn.b,gn.c,gn.d,gn.e]}}).concat(jn.a.middleware)},devTools:!1}),zn=Object(gn.h)(kn);Object(dn.e)(kn.dispatch);var An=t(56);m.a.render(Object(P.jsxs)(g.a.StrictMode,{children:[Object(P.jsx)(O.a,{styles:w}),Object(P.jsx)(G.a,{store:kn,children:Object(P.jsx)(An.a,{loading:null,persistor:zn,children:Object(P.jsx)(A.a,{children:Object(P.jsx)(un,{})})})})]}),document.getElementById("root"))}},[[89,8,9]]]);
//# sourceMappingURL=main.bb49d6d5.chunk.js.map