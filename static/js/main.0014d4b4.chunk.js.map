{"version":3,"sources":["redux/auth/auth-thunks.js","components/AppBar/Navigation/Navigation.module.css","redux/itemsRTK.js","redux/actions-contacts.js","components/AppBar/AppBar.module.css","routes.js","components/AppBar/AuthNav/AuthNav.js","components/AppBar/Navigation/Navigation.jsx","components/UserMenu/default-avatar.png","components/UserMenu/UserMenu.jsx","components/AppBar/Navigation/Logo.jsx","components/AppBar/Appbar.jsx","App.js","redux/contacts-reducer.js","redux/auth/auth-operation.js","redux/store.js","index.js"],"names":["baseUrl","registerThunk","createAsyncThunk","user","a","rejectWithValue","fetch","method","headers","body","JSON","stringify","response","json","data","console","log","error","message","loginThunk","currentThunk","_","getState","state","token","auth","Authorization","logoutThunk","module","exports","itemsApi","createApi","reducerPath","baseQuery","fetchBaseQuery","tagTypes","endpoints","builder","getItems","query","providesTags","createItem","mutation","newContact","url","name","number","invalidatesTags","deleteItem","contactId","useGetItemsQuery","useCreateItemMutation","useDeleteItemMutation","changeFilter","createAction","HomePage","lazy","ContactsPage","routes","id","path","component","authNav","display","alignItems","fontWeight","authNavItem","margin","AuthNav","style","to","color","isActive","Navigation","className","s","nav","end","navItem","styles","container","avatar","marginRight","defaultAvatar","UserMenu","dispatch","useDispatch","src","alt","width","type","onClick","logo","backgroundColor","padding","logoOne","logoTwo","Logo","AppBar","appBar","App","useEffect","fallback","map","Component","element","filter","createReducer","payload","combineReducers","authSlice","createSlice","initialState","email","isLoading","isAuth","myProp","reducers","renameProp","action","extraReducers","pending","fulfilled","rejected","actions","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","persistReducer","authReducer","contacts","rootReducer","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","devTools","process","persistor","persistStore","setupListeners","ReactDOM","render","StrictMode","loading","document","getElementById"],"mappings":"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","file":"static/js/main.0014d4b4.chunk.js","sourcesContent":["import { createAsyncThunk } from \"@reduxjs/toolkit\";\r\n\r\nconst baseUrl = \"https://connections-api.herokuapp.com\";\r\nconst register = \"/users/signup\";\r\nconst login = \"/users/login\";\r\nconst logout = \"/users/logout\";\r\nconst current = \"/users/current\";\r\n\r\nexport const registerThunk = createAsyncThunk(\r\n  \"users/register\",\r\n  async (user, { rejectWithValue }) => {\r\n    try {\r\n      const response = await fetch(baseUrl + register, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(user),\r\n      });\r\n      const data = await response.json();\r\n      console.log(\"response\", data); // { token: \"\", user: {name: \"\", email: \"\"}}\r\n      return data; // action.payload\r\n    } catch (err) {\r\n      rejectWithValue({ error: err.message });\r\n    }\r\n  }\r\n);\r\n\r\nexport const loginThunk = createAsyncThunk(\r\n  \"users/login\",\r\n  async (user, { rejectWithValue }) => {\r\n    try {\r\n      const response = await fetch(baseUrl + login, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(user),\r\n      });\r\n      const data = await response.json();\r\n      console.log(\"response\", data); // { token: \"\", user: {name: \"\", email: \"\"}}\r\n      return data; // action.payload\r\n    } catch (err) {\r\n      rejectWithValue({ error: err.message });\r\n    }\r\n  }\r\n);\r\n\r\nexport const currentThunk = createAsyncThunk(\r\n  \"users/current\",\r\n  async (_, { rejectWithValue, getState }) => {\r\n    const state = getState();\r\n    const token = state.auth.token;\r\n    if (!token) return;\r\n    try {\r\n      const response = await fetch(baseUrl + current, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      });\r\n      const data = await response.json();\r\n      console.log(\"response\", data); // { user: {name: \"\", email: \"\"}}\r\n      return data; // action.payload\r\n    } catch (err) {\r\n      console.log(err.message);\r\n      rejectWithValue(err.message);\r\n    }\r\n  }\r\n);\r\n\r\nexport const logoutThunk = createAsyncThunk(\r\n  \"users/logout\",\r\n  async (_, { rejectWithValue, getState }) => {\r\n    const state = getState();\r\n    const token = state.auth.token;\r\n    if (!token) return;\r\n    try {\r\n      const response = await fetch(baseUrl + logout, {\r\n        method: \"POST\",\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      });\r\n      // const data = await response.json();\r\n      console.log(\"response\", response); // { user: {name: \"\", email: \"\"}}\r\n      // return data; // action.payload\r\n    } catch (err) {\r\n      console.log(err.message);\r\n      rejectWithValue(err.message);\r\n    }\r\n  }\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navigation_nav__1hxed\",\"navItem\":\"Navigation_navItem__2ga5d\",\"navLinkLogo\":\"Navigation_navLinkLogo__f0hju\",\"activeNavLinkLogo\":\"Navigation_activeNavLinkLogo__1fWBS\",\"logo\":\"Navigation_logo__b_ark\",\"logoPartYel\":\"Navigation_logoPartYel__3Cd4i\",\"logoPartBlack\":\"Navigation_logoPartBlack__1KitO\"};","import { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/query/react\";\r\n\r\nexport const itemsApi = createApi({\r\n  reducerPath: \"ContactsApi\",\r\n  baseQuery: fetchBaseQuery({\r\n    baseUrl: \"https://connections-api.herokuapp.com\",\r\n  }),\r\n  tagTypes: [\"Contacts\"],\r\n  endpoints: (builder) => ({\r\n    getItems: builder.query({\r\n      query: () => `/contacts`,\r\n      providesTags: [\"Contacts\"],\r\n    }),\r\n    createItem: builder.mutation({\r\n      query: (newContact) => ({\r\n        url: `/contacts`,\r\n        method: \"POST\",\r\n        body: {\r\n          name: newContact.name,\r\n          number: newContact.number,\r\n        },\r\n      }),\r\n      invalidatesTags: [\"Contacts\"],\r\n    }),\r\n    deleteItem: builder.mutation({\r\n      query: (contactId) => ({\r\n        url: `/contacts/${contactId}`,\r\n        method: \"DELETE\",\r\n      }),\r\n      invalidatesTags: [\"Contacts\"],\r\n    }),\r\n  }),\r\n});\r\n\r\nexport const {\r\n  useGetItemsQuery,\r\n  useCreateItemMutation,\r\n  useDeleteItemMutation,\r\n} = itemsApi;\r\n\r\n// function providesList(resultsWithIds, tagType) {\r\n//   return resultsWithIds\r\n//     ? [\r\n//         { type: tagType, id: \"LIST\" },\r\n//         ...resultsWithIds.map(({ id }) => ({ type: tagType, id })),\r\n//       ]\r\n//     : [{ type: tagType, id: \"LIST\" }];\r\n// }\r\n","import { createAction } from \"@reduxjs/toolkit\";\r\n\r\n// export const addContact = createAction(\"ADD/contact\");\r\n// export const deleteContact = createAction(\"DELETE/contact\");\r\nexport const changeFilter = createAction(\"FILTER_CHANGE/contact\");\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"appBar\":\"AppBar_appBar__3d4Vx\"};","import { lazy } from \"react\";\r\n\r\nconst HomePage = lazy(() =>\r\n  import(\"./view/HomePage\" /* webpackChunkName: 'Home page'*/)\r\n);\r\n\r\nconst ContactsPage = lazy(() =>\r\n  import(\"./view/ContactsPage\" /* webpackChunkName: 'Contacts page'*/)\r\n);\r\n\r\nconst RegisterPage = lazy(() =>\r\n  import(\"./view/RegisterPage\" /* webpackChunkName: 'Register page'*/)\r\n);\r\n\r\nconst LoginPage = lazy(() =>\r\n  import(\"./view/LoginPage\" /* webpackChunkName: 'Login page'*/)\r\n);\r\n\r\nexport const NotFound = lazy(() =>\r\n  import(\"./view/NotFoundPage\" /* webpackChunkName: 'Page not found'*/)\r\n);\r\n\r\nexport const routes = [\r\n  {\r\n    id: 101,\r\n    name: \"Home page\",\r\n\r\n    path: \"/\",\r\n    component: HomePage,\r\n  },\r\n  {\r\n    id: 102,\r\n    name: \"Register page\",\r\n\r\n    path: \"/register\",\r\n    component: RegisterPage,\r\n  },\r\n\r\n  {\r\n    id: 103,\r\n    name: \"Contacts page\",\r\n\r\n    path: \"contacts\",\r\n    component: ContactsPage,\r\n  },\r\n  {\r\n    id: 105,\r\n    name: \"Login page\",\r\n\r\n    path: \"login\",\r\n    component: LoginPage,\r\n  },\r\n\r\n  {\r\n    id: 104,\r\n    name: \"Not found page\",\r\n\r\n    path: \"*\",\r\n    component: NotFound,\r\n  },\r\n];\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nconst authNav = {\r\n  display: \"flex\",\r\n  alignItems: \"center\",\r\n  fontWeight: \"500\",\r\n};\r\nconst authNavItem = {\r\n  margin: \"15px\",\r\n};\r\n\r\nconst AuthNav = () => (\r\n  <div style={authNav}>\r\n    <NavLink\r\n      to=\"/register\"\r\n      style={({ isActive }) => ({\r\n        color: isActive ? \"yellow\" : \"white\",\r\n      })}\r\n    >\r\n      <span style={authNavItem}>Registration</span>\r\n    </NavLink>\r\n    <NavLink\r\n      to=\"/login\"\r\n      style={({ isActive }) => ({\r\n        color: isActive ? \"yellow\" : \"white\",\r\n      })}\r\n    >\r\n      <span style={authNavItem}>Log in</span>\r\n    </NavLink>\r\n  </div>\r\n);\r\n\r\nexport default AuthNav;\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport s from \"./Navigation.module.css\";\r\n\r\nconst Navigation = () => (\r\n  <nav className={s.nav}>\r\n    <NavLink\r\n      to=\"/\"\r\n      style={({ isActive }) => ({\r\n        color: isActive ? \"yellow\" : \"white\",\r\n      })}\r\n      end\r\n    >\r\n      <span className={s.navItem}> Home</span>\r\n    </NavLink>\r\n    <NavLink\r\n      to=\"contacts\"\r\n      style={({ isActive }) => ({\r\n        color: isActive ? \"yellow\" : \"white\",\r\n      })}\r\n    >\r\n      <span className={s.navItem}> Contacts</span>\r\n    </NavLink>\r\n  </nav>\r\n);\r\n\r\nexport default Navigation;\r\n","export default __webpack_public_path__ + \"static/media/default-avatar.e44fc4e2.png\";","import React from \"react\";\r\nimport defaultAvatar from \"./default-avatar.png\";\r\nimport { logoutThunk } from \"../../redux/auth/auth-thunks\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nconst styles = {\r\n  container: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n  },\r\n  avatar: {\r\n    marginRight: 4,\r\n  },\r\n  name: {\r\n    fontWeight: 700,\r\n    marginRight: 12,\r\n  },\r\n};\r\n// { avatar, name, onLogout }\r\n\r\nconst avatar = defaultAvatar;\r\n\r\nfunction UserMenu() {\r\n  const dispatch = useDispatch();\r\n  const onLogout = () => {\r\n    dispatch(logoutThunk());\r\n  };\r\n  return (\r\n    <div style={styles.container}>\r\n      <img src={avatar} alt=\"\" width=\"32\" style={styles.avatar} />\r\n      <span style={styles.name}>Welcome</span>\r\n      <button type=\"button\" onClick={onLogout}>\r\n        Logout\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UserMenu;\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst logo = {\r\n  display: \"flex\",\r\n  alignItems: \"center\",\r\n  backgroundColor: \"black\",\r\n  padding: \"15px\",\r\n  fontWeight: \"600\",\r\n};\r\n\r\nconst logoOne = {\r\n  color: \"black\",\r\n  backgroundColor: \"yellow\",\r\n};\r\n\r\nconst logoTwo = {\r\n  color: \"yellow\",\r\n  backgroundColor: \"black\",\r\n  fontWeight: \"300\",\r\n};\r\n\r\nexport default function Logo() {\r\n  return (\r\n    <NavLink to=\"/\" style={logo}>\r\n      <span style={logoOne}>DN</span>\r\n      <span style={logoTwo}>Oksi</span>\r\n    </NavLink>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport AuthNav from \"./AuthNav/AuthNav\";\r\nimport Navigation from \"./Navigation/Navigation\";\r\nimport UserMenu from \"../UserMenu/UserMenu\";\r\nimport Logo from \"./Navigation/Logo\";\r\nimport s from \"./AppBar.module.css\";\r\n\r\nfunction AppBar() {\r\n  return (\r\n    <>\r\n      <header className={s.appBar}>\r\n        <Logo />\r\n        <Navigation />\r\n        <AuthNav />\r\n        <UserMenu />\r\n      </header>\r\n    </>\r\n  );\r\n}\r\nexport default AppBar;\r\n","import \"./App.css\";\r\nimport React, { Suspense, useEffect } from \"react\";\r\nimport { Routes, Route } from \"react-router-dom\";\r\n// import HomePage from \"./view/HomePage\";\r\n// import ContactsPage from \"./view/ContactsPage\";\r\nimport { routes } from \"./routes\";\r\nimport AppBar from \"./components/AppBar/Appbar\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { currentThunk } from \"./redux/auth/auth-thunks\";\r\n\r\nfunction App() {\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(currentThunk());\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <>\r\n      <AppBar />\r\n      <Suspense fallback={<h1>Loading....</h1>}>\r\n        <Routes>\r\n          {routes.map(({ path, id, component: Component }) => (\r\n            <Route key={id} path={path} element={<Component />} />\r\n          ))}\r\n        </Routes>\r\n      </Suspense>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// import actionTypes from \"./actions-type\";\r\nimport { changeFilter } from \"./actions-contacts\";\r\nimport { combineReducers } from \"redux\";\r\nimport { createReducer } from \"@reduxjs/toolkit\";\r\n\r\nconst filter = createReducer(\"\", {\r\n  [changeFilter]: (_, { payload }) => payload,\r\n});\r\n\r\nexport default combineReducers({\r\n  filter,\r\n});\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\nimport {\r\n  registerThunk,\r\n  loginThunk,\r\n  currentThunk,\r\n  logoutThunk,\r\n} from \"./auth-thunks\";\r\n\r\nconst authSlice = createSlice({\r\n  name: \"auth\",\r\n  initialState: {\r\n    user: { name: \"\", email: \"\" },\r\n    token: \"\",\r\n    error: null,\r\n    isLoading: false,\r\n    isAuth: false,\r\n    myProp: \"Hello\",\r\n  },\r\n  reducers: {\r\n    renameProp: (state, action) => {\r\n      return {\r\n        ...state,\r\n        myProp: action.payload,\r\n      };\r\n    },\r\n  },\r\n  extraReducers: {\r\n    [registerThunk.pending](state, action) {\r\n      return {\r\n        ...state,\r\n        isLoading: true,\r\n      };\r\n    },\r\n    [registerThunk.fulfilled](state, action) {\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        user: action.payload.user,\r\n        token: action.payload.token,\r\n        isAuth: true,\r\n      };\r\n    },\r\n    [registerThunk.rejected](state, action) {\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        error: action.payload,\r\n      };\r\n    },\r\n    [loginThunk.pending](state, action) {\r\n      return {\r\n        ...state,\r\n        isLoading: true,\r\n      };\r\n    },\r\n    [loginThunk.fulfilled](state, action) {\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        user: action.payload.user,\r\n        token: action.payload.token,\r\n        isAuth: true,\r\n      };\r\n    },\r\n    [loginThunk.rejected](state, action) {\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        error: action.payload,\r\n      };\r\n    },\r\n    [currentThunk.pending](state, action) {\r\n      return {\r\n        ...state,\r\n        isLoading: true,\r\n      };\r\n    },\r\n    [currentThunk.fulfilled](state, action) {\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        user: action.payload,\r\n        isAuth: true,\r\n      };\r\n    },\r\n    [currentThunk.rejected](state, action) {\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        error: action.payload,\r\n        isAuth: false,\r\n      };\r\n    },\r\n    [logoutThunk.pending](state, action) {\r\n      return {\r\n        ...state,\r\n        isLoading: true,\r\n      };\r\n    },\r\n    [logoutThunk.fulfilled](state, action) {\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        user: { name: \"\", email: \"\" },\r\n        token: \"\",\r\n        isAuth: false,\r\n      };\r\n    },\r\n    [logoutThunk.rejected](state, action) {\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        error: action.payload,\r\n      };\r\n    },\r\n  },\r\n});\r\nexport const { renameProp } = authSlice.actions;\r\n\r\nexport default authSlice.reducer;\r\n\r\n// import { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/query/react\";\r\n\r\n// export const UserApi = createApi({\r\n//   reducerPath: \"UserApi\",\r\n//   baseQuery: fetchBaseQuery({\r\n//     baseUrl: \"https://connections-api.herokuapp.com\",\r\n//   }),\r\n//   tagTypes: [\"UserApi\"],\r\n\r\n//   endpoints: (builder) => ({\r\n//     getAuthUserCurrent: builder.query({\r\n//       query: () => `/users/current`,\r\n//       providesTags: [\"UserApi\"],\r\n//     }), // getAuthUserCurrent -получить информацию о текущем пользователе\r\n//     createNewUser: builder.mutation({\r\n//       query: (newUser) => ({\r\n//         url: `/users/signup`,\r\n//         method: \"POST\",\r\n//         body: {\r\n//           name: newUser.name,\r\n//           number: newUser.number,\r\n//           email: newUser.email,\r\n//         },\r\n//       }),\r\n//       invalidatesTags: [\"UserApi\"],\r\n//     }), //createNewUser - создать нового пользователя\r\n//     loginUser: builder.mutation({\r\n//       query: (loginUser) => ({\r\n//         url: `/users/login`, // - залогинить пользователя\r\n//         method: \"POST\",\r\n//         body: {\r\n//           name: loginUser.name,\r\n//           email: loginUser.email,\r\n//         },\r\n//       }),\r\n//       invalidatesTags: [\"UserApi\"],\r\n//     }),\r\n//     logoutUser: builder.mutation({\r\n//       query: (logoutUser) => ({\r\n//         url: `/users/logout`,\r\n//         method: \"POST\",\r\n//         body: {\r\n//           name: logoutUser.name,\r\n//           email: logoutUser.email,\r\n//         },\r\n//       }),\r\n//       invalidatesTags: [\"UserApi\"],\r\n//     }),\r\n//   }),\r\n// });\r\n\r\n// export const {\r\n//   useGetAuthUserCurrentQuery,\r\n//   useCreateNewUserMutation,\r\n//   useLoginUserMutation,\r\n//   useLogoutUserMutation,\r\n// } = UserApi;\r\n","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport { setupListeners } from \"@reduxjs/toolkit/query\";\r\nimport rootReducer from \"./contacts-reducer\";\r\nimport {\r\n  persistStore,\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from \"redux-persist\";\r\nimport { itemsApi } from \"./itemsRTK\";\r\nimport storage from \"redux-persist/lib/storage\";\r\nimport authReducer from \"./auth/auth-operation\";\r\n\r\nconst authPersistConfig = {\r\n  key: \"auth\",\r\n  storage,\r\n  whitelist: [\"token\"],\r\n};\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    auth: persistReducer(authPersistConfig, authReducer),\r\n    contacts: rootReducer,\r\n    [itemsApi.reducerPath]: itemsApi.reducer,\r\n  },\r\n  middleware: (getDefaultMiddleware) =>\r\n    getDefaultMiddleware({\r\n      serializableCheck: {\r\n        ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n      },\r\n    }),\r\n\r\n  devTools: process.env.NODE_ENV === \"development\",\r\n});\r\nexport const persistor = persistStore(store);\r\n\r\nsetupListeners(store.dispatch);\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport { Provider } from \"react-redux\";\r\nimport { store, persistor } from \"./redux/store\"; //, persistor\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport { PersistGate } from \"redux-persist/integration/react\";\r\n// console.log(store);\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <PersistGate loading={null} persistor={persistor}>\r\n        <BrowserRouter>\r\n          <App />\r\n        </BrowserRouter>\r\n      </PersistGate>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}